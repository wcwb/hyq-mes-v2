# MES è®¤è¯ç³»ç»Ÿæ–‡æ¡£

æœ¬æ–‡æ¡£æä¾›MESåˆ¶é€ æ‰§è¡Œç³»ç»Ÿè®¤è¯æ¨¡å—çš„å®Œæ•´æŒ‡å—ï¼ŒåŒ…æ‹¬APIæ–‡æ¡£ã€å¼€å‘æŒ‡å—ã€éƒ¨ç½²æŒ‡å—å’Œå®‰å…¨æœ€ä½³å®žè·µã€‚

## ðŸ“š æ–‡æ¡£ç›®å½•

### [1. API æ–‡æ¡£](./01-APIæ–‡æ¡£.md)
- è®¤è¯ç«¯ç‚¹è¯¦ç»†è¯´æ˜Ž
- æƒé™ç³»ç»Ÿä½¿ç”¨æ–¹æ³•
- Tokenç®¡ç†åŠŸèƒ½
- æ€§èƒ½ç›‘æŽ§æŽ¥å£
- é”™è¯¯ä»£ç å‚è€ƒ

### [2. å¼€å‘è€…æŒ‡å—](./02-å¼€å‘è€…æŒ‡å—.md)
- å¦‚ä½•æ·»åŠ æ–°æƒé™
- Policyåˆ›å»ºæœ€ä½³å®žè·µ
- å›¢é˜Ÿä¸Šä¸‹æ–‡ç®¡ç†
- è®¤è¯ç³»ç»Ÿæµ‹è¯•æŒ‡å—
- ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®žè·µ

### [3. éƒ¨ç½²æŒ‡å—](./03-éƒ¨ç½²æŒ‡å—.md)
- çŽ¯å¢ƒå˜é‡é…ç½®
- æ•°æ®åº“è¿ç§»æ­¥éª¤
- Seederæ‰§è¡ŒæŒ‡å—
- æ€§èƒ½è°ƒä¼˜å»ºè®®
- éƒ¨ç½²æ¸…å•

### [4. å®‰å…¨æŒ‡å—](./04-å®‰å…¨æŒ‡å—.md)
- ä»¤ç‰Œå®‰å…¨å®žè·µ
- æƒé™åˆ†é…åŽŸåˆ™
- è¶…çº§ç®¡ç†å‘˜ç®¡ç†
- å®¡è®¡æ—¥å¿—è®¾ç½®
- ç½‘ç»œå®‰å…¨é…ç½®
- æ•°æ®ä¿æŠ¤ç­–ç•¥
- å®‰å…¨ç›‘æŽ§
- åº”æ€¥å“åº”

### [5. æ–‡æ¡£æ€»ç»“](./05-æ–‡æ¡£æ€»ç»“.md)
- æ–‡æ¡£æ¸…å•å’Œå¯¼èˆª
- æŒ‰è§’è‰²æŽ¨èé˜…è¯»
- é‡è¦æ¦‚å¿µç´¢å¼•
- å®žæ–½æ£€æŸ¥æ¸…å•
- æ”¯æŒä¸Žç»´æŠ¤æŒ‡å—

## ðŸš€ å¿«é€Ÿå¼€å§‹

### è®¤è¯æµç¨‹æ¦‚è¿°
1. **ç”¨æˆ·ç™»å½•** - é€šè¿‡é‚®ç®±/å·¥å·/æ‰‹æœºå·å’Œå¯†ç è¿›è¡Œèº«ä»½éªŒè¯
2. **Tokenç”Ÿæˆ** - ç³»ç»Ÿä¸ºå·²éªŒè¯ç”¨æˆ·ç”ŸæˆSanctumè®¿é—®ä»¤ç‰Œ
3. **å›¢é˜Ÿä¸Šä¸‹æ–‡** - ä¸ºç”¨æˆ·è®¾ç½®å½“å‰å›¢é˜Ÿçš„æƒé™ä¸Šä¸‹æ–‡
4. **æƒé™éªŒè¯** - åŸºäºŽSpatie Permissionè¿›è¡Œç»†ç²’åº¦æƒé™æŽ§åˆ¶
5. **æ€§èƒ½ç›‘æŽ§** - å®žæ—¶ç›‘æŽ§è®¤è¯ç³»ç»Ÿçš„æ€§èƒ½æŒ‡æ ‡

### æ ¸å¿ƒç‰¹æ€§
- âœ… **å¤šç§ç™»å½•æ–¹å¼**ï¼šæ”¯æŒé‚®ç®±ã€å·¥å·ã€æ‰‹æœºå·ç™»å½•
- âœ… **JWTä»¤ç‰Œè®¤è¯**ï¼šåŸºäºŽLaravel Sanctumçš„å®‰å…¨ä»¤ç‰Œç³»ç»Ÿ
- âœ… **å›¢é˜Ÿéš”ç¦»**ï¼šå®Œæ•´çš„å¤šå›¢é˜Ÿæ•°æ®éš”ç¦»æž¶æž„
- âœ… **ç»†ç²’åº¦æƒé™**ï¼šåŸºäºŽè§’è‰²å’Œæƒé™çš„è®¿é—®æŽ§åˆ¶ï¼ˆRBACï¼‰
- âœ… **è¶…çº§ç®¡ç†å‘˜**ï¼šé€šè¿‡Laravel Gate::beforeå®žçŽ°å…¨å±€æƒé™
- âœ… **æ€§èƒ½ç›‘æŽ§**ï¼šå®žæ—¶ç›‘æŽ§è®¤è¯æ€§èƒ½å’Œä½¿ç”¨ç»Ÿè®¡
- âœ… **å®¡è®¡æ—¥å¿—**ï¼šå®Œæ•´çš„ç”¨æˆ·æ“ä½œè¿½è¸ªè®°å½•

### æŠ€æœ¯æ ˆ
- **æ¡†æž¶**ï¼šLaravel 12.x
- **è®¤è¯**ï¼šLaravel Sanctum
- **æƒé™ç®¡ç†**ï¼šSpatie Permission (æ”¯æŒå›¢é˜Ÿæ¨¡å¼)
- **æ•°æ®åº“**ï¼šPostgreSQL
- **ç¼“å­˜**ï¼šRedis
- **ç›‘æŽ§**ï¼šè‡ªå®šä¹‰æ€§èƒ½ç›‘æŽ§æœåŠ¡

## ðŸ“‹ ç³»ç»Ÿæž¶æž„

### è®¤è¯æž¶æž„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯åº”ç”¨       â”‚    â”‚   APIç½‘å…³       â”‚    â”‚   è®¤è¯æœåŠ¡      â”‚
â”‚                 â”‚â”€â”€â”€â”€â”‚                 â”‚â”€â”€â”€â”€â”‚                 â”‚
â”‚ â€¢ Vue/React     â”‚    â”‚ â€¢ è·¯ç”±ç®¡ç†      â”‚    â”‚ â€¢ ç”¨æˆ·éªŒè¯      â”‚
â”‚ â€¢ Tokenå­˜å‚¨      â”‚    â”‚ â€¢ ä¸­é—´ä»¶        â”‚    â”‚ â€¢ Tokenç®¡ç†     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   æƒé™ç³»ç»Ÿ      â”‚    â”‚   å›¢é˜Ÿç®¡ç†      â”‚
                        â”‚                 â”‚â”€â”€â”€â”€â”‚                 â”‚
                        â”‚ â€¢ Spatie Perm   â”‚    â”‚ â€¢ å›¢é˜Ÿéš”ç¦»      â”‚
                        â”‚ â€¢ Policyç®¡ç†    â”‚    â”‚ â€¢ ä¸Šä¸‹æ–‡åˆ‡æ¢    â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®åº“å…³ç³»å›¾
```
User â”€â”€â”
       â”œâ”€â”€ Teams (å¤šå¯¹å¤šå…³ç³»)
       â”œâ”€â”€ Roles (é€šè¿‡Spatie Permission)
       â””â”€â”€ Permissions (é€šè¿‡Spatie Permission)

Team â”€â”€â”
       â”œâ”€â”€ Users (å¤šå¯¹å¤šå…³ç³»)
       â”œâ”€â”€ Roles (å›¢é˜Ÿçº§è§’è‰²)
       â””â”€â”€ Permissions (å›¢é˜Ÿçº§æƒé™)
```

## ðŸ”’ å®‰å…¨ç‰¹æ€§

### è®¤è¯å®‰å…¨
- å¯†ç å“ˆå¸Œï¼šä½¿ç”¨bcryptç®—æ³•
- ä»¤ç‰Œè¿‡æœŸï¼šå¯é…ç½®çš„Tokenç”Ÿå‘½å‘¨æœŸ
- è®¾å¤‡ç®¡ç†ï¼šæ”¯æŒå¤šè®¾å¤‡ç™»å½•ç®¡ç†
- ç™»å½•é™åˆ¶ï¼šé˜²æš´åŠ›ç ´è§£ä¿æŠ¤

### æƒé™å®‰å…¨
- å›¢é˜Ÿéš”ç¦»ï¼šå®Œå…¨çš„æ•°æ®è®¿é—®éš”ç¦»
- æœ€å°æƒé™åŽŸåˆ™ï¼šç”¨æˆ·ä»…èŽ·å¾—å¿…è¦æƒé™
- æƒé™ç¼“å­˜ï¼šé«˜æ€§èƒ½çš„æƒé™æ£€æŸ¥æœºåˆ¶
- å®¡è®¡è·Ÿè¸ªï¼šå®Œæ•´çš„æ“ä½œæ—¥å¿—è®°å½•

## ðŸ“Š æ€§èƒ½ç‰¹æ€§

### ç›‘æŽ§æŒ‡æ ‡
- **Gate::beforeæ£€æŸ¥**ï¼šæƒé™é¢„æ£€æŸ¥æ€§èƒ½
- **TokenéªŒè¯**ï¼šä»¤ç‰ŒéªŒè¯å“åº”æ—¶é—´
- **æƒé™æ£€æŸ¥**ï¼šSpatie PermissionæŸ¥è¯¢æ€§èƒ½
- **è®¤è¯ç«¯ç‚¹**ï¼šAPIç«¯ç‚¹å“åº”æ—¶é—´

### æ€§èƒ½ä¼˜åŒ–
- æƒé™ç¼“å­˜ï¼šå‡å°‘æ•°æ®åº“æŸ¥è¯¢
- å»¶è¿ŸåŠ è½½ï¼šæŒ‰éœ€åŠ è½½ç”¨æˆ·å…³ç³»
- æŸ¥è¯¢ä¼˜åŒ–ï¼šé¿å…N+1æŸ¥è¯¢é—®é¢˜
- Redisç¼“å­˜ï¼šä¼šè¯å’Œæƒé™æ•°æ®ç¼“å­˜

## ðŸ› ï¸ å¼€å‘å·¥å…·

### å‘½ä»¤è¡Œå·¥å…·
```bash
# åˆ›å»ºæ–°ç”¨æˆ·
php artisan user:create

# åˆ†é…æƒé™
php artisan permission:assign

# æŸ¥çœ‹æƒé™
php artisan permission:list

# æ€§èƒ½ç›‘æŽ§
php artisan performance:monitor
```

### è°ƒè¯•å·¥å…·
- Laravel Telescopeï¼šè¯·æ±‚å’ŒæŸ¥è¯¢åˆ†æž
- Debug Barï¼šå¼€å‘çŽ¯å¢ƒè°ƒè¯•
- Log Viewerï¼šæ—¥å¿—æŸ¥çœ‹å’Œåˆ†æž

## ðŸ“ž èŽ·å–æ”¯æŒ

å¦‚æžœæ‚¨åœ¨ä½¿ç”¨è®¤è¯ç³»ç»Ÿæ—¶é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. **æŸ¥é˜…æ–‡æ¡£**ï¼šé¦–å…ˆæŸ¥çœ‹ç›¸å…³ç« èŠ‚çš„è¯¦ç»†è¯´æ˜Ž
2. **æ£€æŸ¥æ—¥å¿—**ï¼šæŸ¥çœ‹Laravelæ—¥å¿—æ–‡ä»¶èŽ·å–é”™è¯¯ä¿¡æ¯
3. **è”ç³»å¼€å‘å›¢é˜Ÿ**ï¼šé€šè¿‡é¡¹ç›®ç®¡ç†ç³»ç»Ÿæäº¤issue

---

> **æ³¨æ„**ï¼šæœ¬æ–‡æ¡£åŸºäºŽLaravel 12.xå’ŒSpatie Permissionæœ€æ–°ç‰ˆæœ¬ç¼–å†™ã€‚åœ¨ä½¿ç”¨å‰è¯·ç¡®ä¿ç³»ç»Ÿç‰ˆæœ¬å…¼å®¹æ€§ã€‚

**æœ€åŽæ›´æ–°**ï¼š{{ now()->format('Y-m-d H:i:s') }}
**æ–‡æ¡£ç‰ˆæœ¬**ï¼š1.0.0 